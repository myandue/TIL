> 해당 서적을 읽는데, 학습해야할 정보를 전달해주는 것보단 모델링에 대해 어떻게 접근해야하는지 이야기를 풀어주는 식의 서적이라 정리를 못하고 있었다. 기억하고 싶은 부분을 노트에 적어가며 읽어가고 있었는데, 그런 부분들을 여기에 기록하면서 읽어보려한다.

<br>

- 데이터는 그 성격과 목적에 따라 거래처리데이터(OLTP)와 분석정보데이터(OLAP)로 나뉘며 별도 영역에서 관리한다.
- OLAP는 정규화가 덜 된 형태일 수 있다. (-> 정규화에 집착 말기(?))
- OLAP 영역을 구성하는 모델은 다차원 모델, OLTP 영역을 구성하는 모델은 관계형데이터모델

<br>

- 본질과 현상 구분하기
- 예시로 어떤 여러개의 직업을 가진 사람을 들 때,
  - 본질은 사람으로서의 근본적인 정보(물리적으로 유일한 개체인 나)
  - 현상은 논리적 맥락이나 역할(role)
 
<br>

- 데이터 모델링이란 생략을 통해 대상의 본질과 특징을 드러내며(추상화), 업무에 필요한 데이터를 성격이 유사한 것끼리 모아놓는 과정(범주화)이다. - p.58

<br>

---

<br>

## 정규화 이론

- 함수 종속(functional dependency)은 하나의 집합(relation) 안에 존재하는 속성 사이의 연관 관계다. 집합 내 속성 A가 속성 B의 값을 유일하게 식별하는 결정자(determinant)라면 속성 B는 속성 A에 함수적으로 종속된다. - p.76
- 예시 속성(학번/과목코드/성명/과목명/평가코드)
  - 종속성 1: 학번 -> 성명
  - 종속성 2: 과목코드 -> 과목명
  - 종속성 3: 학번+과목코드 -> 평가코드
  - 화살표 좌측에 있는 속성이 우측에 있는 속성을 결정한다.
- **이러한 개별 종속성은 모두 별도로 분리하여, 즉 정규화하여 관리해야 데이터를 안정적인 구조로 관리할 수 있다.**

<br>

### 1정규형에서는 모든 속성이 값을 반드시 하나만 가져야 한다.
- 예시로, 사원 엔터티에 사원자격증 속성을 갖고있는데, 사원자격증을 여러개 갖게 될 수 있다면 이 사원자격증은 사원의 속성이 아닌 별도의 엔터티로 분리돼야한다.

### 2정규형에서는 모든 속성이 반드시 주 식별자 전부에 종속되어야 한다.
- 주 식별자 일부에만 종속될 경우에는 해당 종속성을 별도 엔터티로 분리해야 한다.
- 1정규화로 생성된 집합은 자식(child), 2정규화로 분리된 집합은 부모(parent)
- 예시로, 계약 엔터티에 단체명, 단체대표자명 속성을 갖고있을 때, 해당값들은 식별자 '계약번호'에 의해 변경되는 것이 아니라 '단체번호'에 의해 변경된다. 이 경우 '단체번호'를 주 식별자로 갖는 '단체' 엔터티로 분리해야한다.
- **주 식별자는 집합 내 속성의 결정자로서 집합의 성격을 규정하는 등 다양한 역할을 수행한다.**

### 3정규형에서는 주 식별자가 아닌 모든 속성이 상호 종속 관계여서는 안 된다. 
- 엔터티A의 속성1이 속성2에 종속된다면 별도의 엔터티B를 생성해 속성1과 속성2를 해당 엔터티의 속성으로 지정해야한단 의미.
- (2정규형이랑 같은 행동을 하는것 같은데.. 위 예시를 그대로 가져다썼을 때, 계약 엔터티에 '단체번호', '단체명', '단체대표자명' 속성을 갖고 있을 경우임)

<br>

---

<br>

- 업무 변화에 흔들리지 않는 모델이 되려면 업무의 외면이나 당장의 현상이 아닌 그 현상을 일으키는 근본으로서의 원형을 꿰뚫어보아야 한다. - p.89

<br>

- <비즈니스> 엔터티는 주변의 '누가', '무엇을', '언제', '어떤 유형으로' 등의 데이터에 종속된다. 다시 말해 주변의 기준 정보가 존재하지 않으면 업무 행위 자체가 발생할 수 없다(부모-자식 관계). - p.104
- 모델러는 최종 트랜잭션 데이터가 아니라, 트랜잭션의 실질적인 주체와 대상에 해당하는 데이터를 정확히 볼 줄 알아야한다. 일반적으로 데이터 아키텍처와 방법론에서는 이러한 데이터를 **마스터 데이터**라고 한다.
- **업무의 주체나 대상** 등 같은 성질의 데이터를 **하나의 개체**로 통합하고, **업무 행위**는 관련 개체 사이의 **관계**로 표현하는 것이 핵심이다.

<br>

---

<br>

## Account

- Account는 '업무 행위의 최상위 주체로, 관련 업무 처리들을 동일한 성격으로 관리하는 단위'다. - p.116
- 또한 '수많은 행위 데이터를 동일한 성격으로 묶을 수 있는 단위 개체'로, 일반적으로 계약 행위를 통해 탄생하지만, 관련된 다른 하위 행위의 직접적인 주체 역할을 담당한다.
- 예를들어, 사람 X가 동일한 노트북 2대를 구입해 사용하던 중, 한 대의 노트북이 고장나 A/S를 받게 될 때, 이 A/S 서비스는 X라는 사람에게 서비스 되는 것이 아니라 '상품을 구매한 고객'에게 서비스 되는 것이다. 이 각각의 노트북에 대한 '서비스 계약'과 같은 엔터티가 Account를 의미하는 것이다.
- 다시 말해 데이터적으로는 사람이 아니라 계약 단위로 서비스 활동이 이루어짐을 이해해야 한다. 결국 구체적인 **업무 행위의 주체**는 **의인화된 Account**인 것이다.

<br>

---

<br>

- 서브타입으로 상세화된 집합을 테이블로 전환하는 세가지 기준

  <img width="431" height="442" alt="서브타입 drawio" src="https://github.com/user-attachments/assets/60200905-71e5-4633-9379-16bff469933e" />

<br>

---

<br>

- **논리 모델**은 정규화 이론에 기반하여 데이터 무결성을 극한까지 보장해준다. 반면 **물리 모델**은 무결성과 정합성을 깨는 것을 최소화하면서 성능 위주로 최적화하는 데 목표가 있다. - p.154
- 예시로, 논리 모델에서 <게시물> 엔터티와 <첨부파일> 엔터티를 분리해놓았는데 둘이 1:1 관계이며 일반적으로 둘이 합쳐진 뷰가 조회된다면, 물리 모델에서는 두개의 엔터티를 통합하는 것이 더 효율적이다.

<br>

- 데이터 모델에서 유연성은 비즈니스가 변화해도 구조 변화가 최소화된다는 뜻이다. 다시 말해 기존 엔터티에 속성이 추가되거나 새로운 엔터티가 생성된다든가, 기존 관계에 변화가 생기는 일이 줄어듦을 의미한다. 비즈니스 변화가 데이터 모델이 아니라 데이터값의 변화로 나타나는 것이 모델의 유연성이다. - p. 161

<br>
